{
  "rules": {
    ".read": false,
    ".write": false,
    "v2": {
      "rig-profile": {
        ".read": "auth != null"
      },
      "algorithm": {
        ".read": "auth != null"
      },
      "pool": {
        ".read": "auth != null"
      },
      "user": {
        "$uid": {
          ".read": "$uid === auth.uid",
          ".write": "$uid === auth.uid",
          "defaults": {
            "rig-profile": {
              ".validate": "data.isString()"
            },
            "$other": {
              ".validate": false
            }
          },
          "rig-profile": {
            "$name": {
              ".validate": "$name.length < 50",
              "$algo": {
                ".validate": "root.child('/v1/algorithms/$algo').exists()",
                "hash-rate": {
                  ".validate": "data.isNumber()"
                },
                "$other": {
                  ".validate": false
                }
              }
            }
          },
          "$other": {
            ".validate": false
          }
        }
      }
    }
  }
}
